.. _event-loops:

***************
  Event Loops  
***************

Urwid's event loop classes handle waiting for things for the :class:`MainLoop`. The
different event loops allow you to integrate with Twisted_ or Glib_ libraries, or
use a simple *select*-based loop. Event loop classes abstract the particulars
of waiting for input and calling functions as a result of timeouts.

You will typically only have a single event loop in your application, even if
you have more than one :class:`MainLoop` running.

You can add your own files to watch to your event loop, with the
:meth:`watch_file` method. Using this interface gives you the special handling
of :exc:`ExitMainLoop` and other exceptions when using Glib_ or Twisted_.

.. _Twisted: http://twistedmatrix.com/trac/
.. _Glib: http://developer.gnome.org/glib/stable/

``SelectEventLoop``
===================

This event loop is based on ``select.select()``. This is the default event loop
created if none is passed to :class:`MainLoop`.

::

    # same as urwid.MainLoop(widget, event_loop=urwid.SelectEventLoop())
    loop = urwid.MainLoop(widget)

`SelectEventLoop reference <http://excess.org/urwid/reference.html#SelectEventLoop>`_

``TwistedEventLoop``
====================

This event loop uses Twisted's reactor. It has been set up to emulate
:class:`SelectEventLoop`'s behaviour and will start the reactor and stop it on
an error. This is not the standard way of using Twisted's reactor, so you may
need to modify this behaviour for your application.

::

    loop = urwid.MainLoop(widget, event_loop=urwid.TwistedEventLoop())

`TwistedEventLoop reference <http://excess.org/urwid/reference.html#TwistedEventLoop>`_

``GLibEventLoop``
=================

This event loop uses GLib's event loop. This is useful if you are building an
application that depends on DBus events, but don't want to base your
application on Twisted.

::

    loop = urwid.MainLoop(widget, event_loop=urwid.GLibEventLoop())

`GLibEventLoop reference <http://excess.org/urwid/reference.html#GLibEventLoop>`_

.. vim: set ft=rst:
